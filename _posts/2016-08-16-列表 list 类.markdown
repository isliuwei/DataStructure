---
layout: post
title:  "Javascriptæ•°æ®ç»“æ„ -- åˆ—è¡¨ list ç±»"
date:   2016-08-16 21:43:05 +0800
categories: jekyll update
---
### Javascriptæ•°æ®ç»“æ„ -- åˆ—è¡¨ list ç±»

#### åˆ—è¡¨çš„æŠ½è±¡æ•°æ®ç±»å‹å®šä¹‰ ADT

| å±æ€§/æ–¹æ³•                 | ä½œç”¨                          | 
| ----------------------- |-----------------------------:| 
| listSize                | åˆ—è¡¨çš„å…ƒç´ ä¸ªæ•°       		     | 
| pos                     | åˆ—è¡¨çš„å½“å‰ä½ç½®      			 |   
| length                  | è¿”å›åˆ—è¡¨ä¸­å…ƒç´ çš„ä¸ªæ•° 			 | 
| clear                   | æ¸…ç©ºåˆ—è¡¨ä¸­çš„æ‰€æœ‰å…ƒç´  			 | 
| toString                | è¿”å›åˆ—è¡¨çš„å­—ç¬¦ä¸²å½¢å¼              |   
| getElement              | è¿”å›å½“å‰ä½ç½®çš„å…ƒç´                | 
| insert                  | åœ¨ç°æœ‰å…ƒç´ åæ’å…¥æ–°å…ƒç´  		     | 
| append                  | åœ¨åˆ—è¡¨çš„æœ«å°¾æ·»åŠ æ–°å…ƒç´   		     |   
| remove                  | ä»åˆ—è¡¨ä¸­åˆ é™¤å…ƒç´                  | 
| front                   | å°†åˆ—è¡¨çš„å½“å‰ä½ç½®è®¾ç§»åŠ¨åˆ°ç¬¬ä¸€ä¸ªå…ƒç´    | 
| end		              | å°†åˆ—è¡¨çš„å½“å‰ä½ç½®ç§»åŠ¨åˆ°æœ€åä¸€ä¸ªå…ƒç´    | 
| prev                    | å°†å½“å‰ä½ç½®å‰ç§»ä¸€ä½      		  |   
| next                    | å°†å½“å‰ä½ç½®åç§»ä¸€ä½      		  | 
| currPos                 | è¿”å›åˆ—è¡¨çš„å½“å‰ä½ç½®      		  |   
| moveTo                  | å°†å½“å‰ä½ç½®ç§»åŠ¨åˆ°æŒ‡å®šä½ç½®     	      |   
| ------------------------|-------------------------------| 
  


#### åˆ—è¡¨ç±»çš„å®ç° 

`åˆ—è¡¨ç±»çš„æ„é€ å‡½æ•°`

{% highlight javascript %}

function List() {
	this.listSize = 0;
	this.pos = 0;
	this.dataStore = []; //åˆå§‹åŒ–ä¸€ä¸ªç©ºæ•°ç»„æ¥ä¿å­˜åˆ—è¡¨å…ƒç´  
	this.clear = clear;
	this.find = find; 
	this.toString = toString; 
	this.insert = insert; 
	this.append = append; 
	this.remove = remove; 
	this.front = front;
	this.end = end;
	this.prev = prev;
	this.next = next;
	this.length = length;
	this.currPos = currPos;
	this.moveTo = moveTo;
	this.getElement = getElement;
	this.length = length;
	this.contains = contains;
}

{% endhighlight %}

`ğŸ‡¨ğŸ‡³ append: ç»™åˆ—è¡¨æ·»åŠ å…ƒç´ `

> è¯¥æ–¹æ³•ç»™åˆ—è¡¨çš„ä¸‹ä¸€ä¸ªä½ç½®å¢åŠ ä¸€ä¸ªæ–°çš„å…ƒç´ ,è¿™ä¸ªä½ç½®åˆšå¥½ç­‰äºå˜é‡ listSize çš„å€¼ :

{% highlight javascript %}

	function append(element) {
    		this.dataStore[this.listSize++] = element;
	}

{% endhighlight %}


`ğŸ‡¨ğŸ‡³ remove: ä»åˆ—è¡¨ä¸­åˆ é™¤å…ƒç´ `

`ğŸ‡¨ğŸ‡³ find: åœ¨åˆ—è¡¨ä¸­æŸ¥æ‰¾æŸä¸€å…ƒç´ `


> é¦–å…ˆ,éœ€è¦åœ¨åˆ—è¡¨ä¸­æ‰¾åˆ°è¯¥å…ƒç´ ,ç„¶ååˆ é™¤å®ƒ,å¹¶ä¸”è°ƒæ•´åº•å±‚çš„æ•°ç»„å¯¹è±¡ä»¥å¡«è¡¥åˆ é™¤è¯¥å…ƒç´ åç•™ä¸‹çš„ç©ºç™½ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ splice( ) æ–¹æ³•ç®€åŒ–è¿™ä¸€è¿‡ç¨‹ã€‚ä½†å‰ææ˜¯æˆ‘ä»¬å¿…é¡»æ‰¾åˆ°è¯¥å…ƒç´ çš„ä½ç½®,æˆ‘ä»¬å…ˆå®šä¹‰ä¸€ä¸ªè¾…åŠ©æ–¹æ³• find( ) ,è¯¥æ–¹æ³•ç”¨äºæŸ¥æ‰¾è¦åˆ é™¤çš„å…ƒç´ çš„ä½ç½®ã€‚

>find( ) æ–¹æ³•é€šè¿‡å¯¹æ•°ç»„å¯¹è±¡ dataStore è¿›è¡Œè¿­ä»£,æŸ¥æ‰¾ç»™å®šçš„å…ƒç´ ã€‚å¦‚æœæ‰¾åˆ°,å°±è¿”å›è¯¥ å…ƒç´ åœ¨åˆ—è¡¨ä¸­çš„ä½ç½®,å¦åˆ™è¿”å› -1,è¿™æ˜¯åœ¨æ•°ç»„ä¸­æ‰¾ä¸åˆ°æŒ‡å®šå…ƒç´ æ—¶è¿”å›çš„æ ‡å‡†å€¼ã€‚æˆ‘ä»¬ å¯ä»¥åœ¨ remove( ) æ–¹æ³•ä¸­åˆ©ç”¨æ­¤å€¼åšé”™è¯¯æ ¡éªŒã€‚

>remove( ) æ–¹æ³•ä½¿ç”¨ find( ) æ–¹æ³•è¿”å›çš„ä½ç½®å¯¹æ•°ç»„ dataStore è¿›è¡Œæˆªå–ã€‚æ•°ç»„æ”¹å˜å,å°†å˜ é‡ listSize çš„å€¼å‡ 1,ä»¥åæ˜ åˆ—è¡¨çš„æœ€æ–°é•¿åº¦ã€‚å¦‚æœå…ƒç´ åˆ é™¤æˆåŠŸ,è¯¥æ–¹æ³•è¿”å› true,å¦åˆ™è¿”å› falseã€‚

{% highlight javascript %}

	function find(element){
		for(var i = 0; i < this.dataStore.length; i++){
			if(this.dataStore[i] == element){
				return i;
			}
		}
		return -1;	
	}

	function remove(element){
		var foundAt = this.find(element);
		if( foundAt > -1 ){
			this.dataStore.splice(foundAt,1);
			--this.listSize;
			return true;
		}
		return false;
	}


{% endhighlight %}

`ğŸ‡¨ğŸ‡³ length: åˆ—è¡¨ä¸­æœ‰å¤šå°‘ä¸ªå…ƒç´ `

>length( ) æ–¹æ³•è¿”å›åˆ—è¡¨ä¸­å…ƒç´ çš„ä¸ªæ•°

{% highlight javascript %}

	function length() {
		return this.listSize;
	}

{% endhighlight %}

`ğŸ‡¨ğŸ‡³ toString:æ˜¾ç¤ºåˆ—è¡¨ä¸­çš„å…ƒç´ `

{% highlight javascript %}

	function toString() {
    		return this.dataStore;
	}

{% endhighlight %}


`ğŸ‡¨ğŸ‡³ insert: å‘åˆ—è¡¨ä¸­æ’å…¥ä¸€ä¸ªå…ƒç´ `

>insert( ) æ–¹æ³•éœ€è¦çŸ¥é“å°†å…ƒç´ æ’å…¥åˆ°ä»€ä¹ˆä½ç½®,å› æ­¤ç°åœ¨ æˆ‘ä»¬å‡è®¾æ’å…¥æ˜¯æŒ‡æ’å…¥åˆ°åˆ—è¡¨ä¸­æŸä¸ªå…ƒç´ ä¹‹åã€‚

>insert( ) æ–¹æ³•ç”¨åˆ°äº† find( ) æ–¹æ³•,find( ) æ–¹æ³•ä¼šå¯»æ‰¾ä¼ å…¥çš„ after å‚æ•°åœ¨åˆ— è¡¨ä¸­çš„ä½ç½®,æ‰¾åˆ°è¯¥ä½ç½®å,ä½¿ç”¨ splice( ) æ–¹æ³•å°†æ–°å…ƒç´ æ’å…¥è¯¥ä½ç½®ä¹‹å,ç„¶åå°†å˜é‡ listSize åŠ  1 å¹¶è¿”å› true,è¡¨æ˜æ’å…¥æˆåŠŸã€‚

{% highlight javascript %}

	function insert(element, after){
		var insertPos = this.find(after);
		if( insertPos > -1 ){
		    this.dataStore.splice(insertPos+1, 0, element);
		    ++this.listSize;
		    return true;
		}
		return false;
	}

{% endhighlight %}

`ğŸ‡¨ğŸ‡³ clear: æ¸…ç©ºåˆ—è¡¨ä¸­æ‰€æœ‰çš„å…ƒç´ `

>clear( )æ–¹æ³•æ¸…ç©ºåˆ—è¡¨ä¸­çš„æ‰€æœ‰å…ƒç´ ,ä¸ºæ’å…¥æ–°å…ƒç´ è…¾å‡ºç©ºé—´ã€‚

>clear( ) æ–¹æ³•ä½¿ç”¨ delete æ“ä½œç¬¦åˆ é™¤æ•°ç»„ dataStore,æ¥ç€åœ¨ä¸‹ä¸€è¡Œåˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„ã€‚æœ€
åä¸€è¡Œå°† listSize å’Œ pos çš„å€¼è®¾ä¸º 1,è¡¨æ˜è¿™æ˜¯ä¸€ä¸ªæ–°çš„ç©ºåˆ—è¡¨ã€‚

{% highlight javascript %}

	function clear() {
	    delete this.dataStore;
	    this.dataStore = [];
	    this.listSize = this.pos = 0;
	}

{% endhighlight %}

`ğŸ‡¨ğŸ‡³ contains: åˆ¤æ–­ç»™å®šå€¼æ˜¯å¦åœ¨åˆ—è¡¨ä¸­`

>contains( )åˆ¤æ–­ä¸€ä¸ªç»™å®šå€¼æ˜¯å¦åœ¨åˆ—è¡¨ä¸­ã€‚

{% highlight javascript %}

	function contains(element){
	  	for( var i = 0; i < this.dataStore.length; i++){
		    if( this.dataStore[i] === element){
		      return true;
		    }
	  	}
	  	return false;
	}

{% endhighlight %}

`ğŸ‡¨ğŸ‡³ éå†åˆ—è¡¨`

>æœ€åçš„ä¸€ç»„æ–¹æ³•å…è®¸ç”¨æˆ·åœ¨åˆ—è¡¨ä¸Šè‡ªç”±ç§»åŠ¨,æœ€åä¸€ä¸ªæ–¹æ³• getElement( ) è¿”å›åˆ—è¡¨çš„å½“å‰å…ƒç´ ã€‚

{% highlight javascript %}
	
	/*å½“å‰ä½ç½®è®¾ç½®ä¸ºç¬¬ä¸€ä½*/
	function front() {
	  this.pos = 0;
	}
	
	/*å½“å‰ä½ç½®è®¾ç½®ä¸ºæœ€åä¸€ä½*/
	function end() {
	   this.pos = this.listSize-1;
	}

	/*å½“å‰ä½ç½®å‘å‰ç§»åŠ¨ä¸€ä½*/
	function prev() {
	   if (this.pos > 0) {
	      --this.pos;
	   }
	}
	
	/*å½“å‰ä½ç½®å‘åç§»åŠ¨ä¸€ä½*/
	function next() {
	   if (this.pos < this.listSize-1) {
	      ++this.pos;
	   }
	}

	/*è¿”å›å½“å‰ä½ç½®*/
	function currPos() {
	   return this.pos;
	}
	
	/*å°†å½“å‰ä½ç½®ç§»åŠ¨åˆ°æŒ‡å®šä½ç½®*/
	function moveTo(position) {
	   this.pos = position;
	}
	
	/*è·å–å½“å‰ä½ç½®çš„å…ƒç´ */
	function getElement() {
	   return this.dataStore[this.pos];
	}

{% endhighlight %}














